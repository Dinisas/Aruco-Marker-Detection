{
  "timestamp": "2025-05-31T00:14:33.168877",
  "camera_setup": {
    "model": "Logitech C505",
    "resolution": [
      640,
      480
    ],
    "focal_length_pixels": 803.6439680811692,
    "camera_matrix": [
      [
        802.8140964481928,
        0.0,
        318.39669714801533
      ],
      [
        0.0,
        804.4738397141456,
        259.1744849890059
      ],
      [
        0.0,
        0.0,
        1.0
      ]
    ],
    "dist_coeffs": [
      0.003586703287805243,
      0.8693731709829269,
      0.007821814962056799,
      -0.0008756546688051044,
      -3.100623189589213
    ]
  },
  "aruco_setup": {
    "marker_size_m": 0.16,
    "dictionary": "5"
  },
  "calibration_results": {
    "range_model": {
      "alpha": 0.0007806183671492046,
      "beta": 0.0026039939567505596,
      "r_squared": 0.16393561320712613,
      "covariance": [
        [
          1.0359115556965245e-06,
          -3.107734665458227e-06
        ],
        [
          -3.107734665458227e-06,
          1.1395027124361456e-05
        ]
      ]
    },
    "bearing_model": {
      "alpha": 0.00021582863363422204,
      "beta": -0.001514202406794677,
      "r_squared": 0.046342219658498274,
      "covariance": [
        [
          1.1024026130122502e-08,
          -3.7492971619493893e-07
        ],
        [
          -3.7492971619493893e-07,
          1.572759756426791e-05
        ]
      ],
      "data_points": {
        "pixel_sizes": [
          24.761320114135742,
          31.431690216064453,
          42.42189407348633,
          63.7707633972168,
          129.19308471679688
        ],
        "angular_stds_rad": [
          0.00021353986885684948,
          0.00014837713865392907,
          0.0001473627710891508,
          7.387812073059879e-05,
          0.0003155001399777966
        ],
        "angular_stds_deg": [
          0.012234933243274562,
          0.008501383821097564,
          0.008443264840760807,
          0.0042329045162212645,
          0.01807682645651444
        ]
      }
    }
  },
  "usage_example": {
    "python_code": "import numpy as np\n\ndef get_measurement_covariance_matrix(distance_meters, marker_pixel_size):\n    \"\"\"\n    Calculate measurement covariance matrix for range-bearing measurements\n    Args: \n        distance_meters - estimated distance to target\n        marker_pixel_size - size of marker in pixels (average side length)\n    Returns:\n        2x2 covariance matrix [[\u03c3_r\u00b2, 0], [0, \u03c3_\u03b8\u00b2]]\n    \"\"\"\n    # Range error model: \u03c3_r(d) = 0.000781\u00b7d + 0.002604\n    sigma_r = 0.000781 * distance_meters + 0.002604\n    # Ensure positive value (minimum 1mm error)\n    sigma_r = max(sigma_r, 0.001)\n    \n    # Bearing error model: \u03c3_\u03b8 = 0.000216 + -0.001514/s\n    sigma_theta = 0.000216 + -0.001514 / marker_pixel_size\n    # Ensure positive value\n    sigma_theta = max(sigma_theta, 1e-6)\n    \n    # Create covariance matrix\n    R = np.array([[sigma_r**2, 0.0],\n                  [0.0, sigma_theta**2]])\n    return R\n\n# Example usage:\n# R = get_measurement_covariance_matrix(2.5, 45.0)\n# print('Measurement covariance matrix:')\n# print(f'Range variance: {R[0,0]:.6f} m\u00b2')\n# print(f'Bearing variance: {R[1,1]:.9f} rad\u00b2')\n"
  },
  "raw_data": {
    "range_measurements": [
      {
        "marker_id": 9,
        "actual_distance": 1.0,
        "measured_distance": 1.002688440699904,
        "measurement_std": 0.0016911824349491638,
        "avg_pixel_size": 128.7388153076172,
        "num_samples": 30,
        "raw_measurements": [
          1.004897111415425,
          0.9992132361603464,
          1.005634330625745,
          1.0030679455296778,
          1.001612234146954,
          1.0036245039142675,
          1.0036245039142675,
          1.004897111415425,
          1.003361632226191,
          1.0030679455296778,
          1.001612234146954,
          1.0036245039142675,
          1.0030679455296778,
          1.004897111415425,
          1.001612234146954,
          1.000619226312766,
          1.0015934970971074,
          1.0020179443596777,
          1.004897111415425,
          1.000619226312766,
          1.004897111415425,
          1.0031851010731188,
          1.000619226312766,
          1.0031851010731188,
          1.0030679455296778,
          0.9992132361603464,
          1.0036245039142675,
          1.000619226312766,
          1.001612234146954,
          1.0030679455296778
        ]
      },
      {
        "marker_id": 9,
        "actual_distance": 2.0,
        "measured_distance": 2.0118425759967384,
        "measurement_std": 0.004797774284137592,
        "avg_pixel_size": 63.822021484375,
        "num_samples": 30,
        "raw_measurements": [
          2.000423455787359,
          2.0140991830239936,
          2.0140991830239936,
          2.0140991830239936,
          2.0140991830239936,
          2.0064063019397187,
          2.0064063019397187,
          2.0140991830239936,
          2.0140991830239936,
          2.0140991830239936,
          2.0140991830239936,
          2.0140991830239936,
          2.0140991830239936,
          2.0140991830239936,
          2.0140991830239936,
          2.0140991830239936,
          2.0140991830239936,
          1.9986272628598951,
          1.9986272628598951,
          2.0140991830239936,
          2.0140991830239936,
          2.0140991830239936,
          2.0140991830239936,
          2.0140991830239936,
          2.0140991830239936,
          2.0140991830239936,
          2.0140991830239936,
          2.0140991830239936,
          2.0140991830239936,
          2.0064063019397187
        ]
      },
      {
        "marker_id": 9,
        "actual_distance": 3.0,
        "measured_distance": 3.05278148918775,
        "measurement_std": 0.009039949544150555,
        "avg_pixel_size": 42.02389907836914,
        "num_samples": 30,
        "raw_measurements": [
          3.0231095451401355,
          3.0398386546206857,
          3.0398386546206857,
          3.057068628217357,
          3.057068628217357,
          3.057068628217357,
          3.057068628217357,
          3.057068628217357,
          3.057068628217357,
          3.057068628217357,
          3.057068628217357,
          3.057068628217357,
          3.057068628217357,
          3.057068628217357,
          3.057068628217357,
          3.057068628217357,
          3.057068628217357,
          3.057068628217357,
          3.057068628217357,
          3.057068628217357,
          3.057068628217357,
          3.0398386546206857,
          3.0398386546206857,
          3.0313334347930736,
          3.057068628217357,
          3.057068628217357,
          3.057068628217357,
          3.057068628217357,
          3.057068628217357,
          3.057068628217357
        ]
      },
      {
        "marker_id": 9,
        "actual_distance": 4.0,
        "measured_distance": 4.0823787309855515,
        "measurement_std": 0.0024143551278526082,
        "avg_pixel_size": 31.401350021362305,
        "num_samples": 30,
        "raw_measurements": [
          4.085139651701789,
          4.085139651701789,
          4.085139651701789,
          4.085139651701789,
          4.085139651701789,
          4.085139651701789,
          4.0802674386731335,
          4.0802674386731335,
          4.0802674386731335,
          4.085139651701789,
          4.085139651701789,
          4.0802674386731335,
          4.0802674386731335,
          4.0802674386731335,
          4.0802674386731335,
          4.0802674386731335,
          4.085139651701789,
          4.085139651701789,
          4.0802674386731335,
          4.0802674386731335,
          4.0802674386731335,
          4.0802674386731335,
          4.0802674386731335,
          4.085139651701789,
          4.085139651701789,
          4.085139651701789,
          4.0802674386731335,
          4.0802674386731335,
          4.0802674386731335,
          4.0802674386731335
        ]
      },
      {
        "marker_id": 9,
        "actual_distance": 5.0,
        "measured_distance": 5.137237098212826,
        "measurement_std": 0.0067859838045454994,
        "avg_pixel_size": 24.746843338012695,
        "num_samples": 30,
        "raw_measurements": [
          5.13316588273307,
          5.13316588273307,
          5.13316588273307,
          5.13316588273307,
          5.13316588273307,
          5.13316588273307,
          5.13316588273307,
          5.13316588273307,
          5.13316588273307,
          5.13316588273307,
          5.147667362064479,
          5.147667362064479,
          5.13316588273307,
          5.13316588273307,
          5.147667362064479,
          5.147667362064479,
          5.13316588273307,
          5.13316588273307,
          5.13316588273307,
          5.13316588273307,
          5.13316588273307,
          5.13316588273307,
          5.150729676935195,
          5.150729676935195,
          5.13316588273307,
          5.13316588273307,
          5.13316588273307,
          5.13316588273307,
          5.147667362064479,
          5.147667362064479
        ]
      }
    ],
    "pixel_measurements": [
      {
        "distance": 5.13316588273307,
        "center_std_x": 0.1213466078042984,
        "center_std_y": 0.1213466078042984,
        "center_std_combined": 0.171610027551651,
        "corner_stds": [
          0.0,
          0.0,
          0.0,
          0.686440110206604
        ],
        "avg_corner_std": 0.171610027551651,
        "avg_pixel_size": 24.761320114135742,
        "num_samples": 100
      },
      {
        "distance": 4.080927701116654,
        "center_std_x": 0.11924239248037338,
        "center_std_y": 0.0,
        "center_std_combined": 0.11924239248037338,
        "corner_stds": [
          0.4702126979827881,
          0.0,
          0.14000000059604645,
          0.0
        ],
        "avg_corner_std": 0.15255317091941833,
        "avg_pixel_size": 31.431690216064453,
        "num_samples": 100
      },
      {
        "distance": 3.0262554545938634,
        "center_std_x": 0.11842720210552216,
        "center_std_y": 0.0,
        "center_std_combined": 0.11842720210552216,
        "corner_stds": [
          0.47370874881744385,
          0.0,
          0.0,
          0.0
        ],
        "avg_corner_std": 0.11842718720436096,
        "avg_pixel_size": 42.42189407348633,
        "num_samples": 100
      },
      {
        "distance": 2.0145378975872124,
        "center_std_x": 0.0,
        "center_std_y": 0.0593717060983181,
        "center_std_combined": 0.0593717060983181,
        "corner_stds": [
          0.0,
          0.0,
          0.0,
          0.2374868243932724
        ],
        "avg_corner_std": 0.0593717060983181,
        "avg_pixel_size": 63.7707633972168,
        "num_samples": 100
      },
      {
        "distance": 1.0021127593676658,
        "center_std_x": 0.1243734136223793,
        "center_std_y": 0.2209496647119522,
        "center_std_combined": 0.2535497844219208,
        "corner_stds": [
          0.6995713114738464,
          0.4935585856437683,
          0.0,
          0.0
        ],
        "avg_corner_std": 0.2982824742794037,
        "avg_pixel_size": 129.19308471679688,
        "num_samples": 100
      }
    ]
  }
}